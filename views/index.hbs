<div class="container-fluid">

    <div class="row">
        <div class="col-6 mb-4">
            <button type="button" class="btn shadow text-success font-weight-bold" onclick="filterRooms({{json rooms}})">
                All ({{rooms.length}})
            </button>
            <button type="button" class="btn btn-success font-weight-bold" onclick="filterRooms({{json availableRooms}})">
                Available ({{availableRooms.length}})
            </button>
            <button type="button" class="btn btn-info font-weight-bold" onclick="filterRooms({{json unavailableRooms}})">
                Unavailable ({{unavailableRooms.length}})
            </button>
            <button type="button" class="btn btn-secondary font-weight-bold" onclick="filterRooms({{json fixingRooms}})">
                Fixing ({{fixingRooms.length}})
            </button>
        </div>
    </div>

    <div class="row" id="roomRow">
        {{#each rooms}}
            {{#if (isAvailable this.status)}}
                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card border-left-success shadow h-100 py-2"
                         style="background-color: rgba(46, 204, 113, 0.4)">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-lg font-weight-bold text-success text-uppercase mb-1">
                                        {{this.room_name}}
                                    </div>
                                    <div class="h6 mb-0 font-weight-bold text-gray-800">{{this.status}}</div>
                                </div>
                                <!--                <div class="col-auto">-->
                                <!--                  <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>-->
                                <!--                </div>-->
                            </div>
                        </div>
                    </div>
                </div>
            {{else}}
                {{#if (isUnavailable this.status)}}
                    <div class="col-xl-3 col-md-6 mb-4">
                        <div class="card border-left-info shadow h-100 py-2"
                             style="background-color: rgba(52, 152, 219, 0.4)">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-lg font-weight-bold text-info text-uppercase mb-1">
                                            {{this.room_name}}
                                        </div>
                                        <div class="h6 mb-0 font-weight-bold text-gray-800">{{this.status}}</div>
                                    </div>
                                    <!--                  <div class="col-auto">-->
                                    <!--                    <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>-->
                                    <!--                  </div>-->
                                </div>
                            </div>
                        </div>
                    </div>
                {{else}}
                    <div class="col-xl-3 col-md-6 mb-4">
                        <div class="card border-left-secondary shadow h-100 py-2"
                             style="background-color: #95a5a6">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-lg font-weight-bold text-gray-800 text-uppercase mb-1">
                                            {{this.room_name}}
                                        </div>
                                        <div class="h6 mb-0 font-weight-bold text-gray-800">{{this.status}}</div>
                                    </div>
                                    <!--                  <div class="col-auto">-->
                                    <!--                    <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>-->
                                    <!--                  </div>-->
                                </div>
                            </div>
                        </div>
                    </div>
                {{/if}}
            {{/if}}
        {{/each}}
    </div>
</div>

{{#section "script"}}
    <script>
        function filterRooms(rooms) {
            let content = "";
            for (const room of rooms) {
                if (room.status == "Available") {
                    content += `
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-success shadow h-100 py-2"
                     style="background-color: rgba(46, 204, 113, 0.4)">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-lg font-weight-bold text-success text-uppercase mb-1">
                                    ${room.room_name}
                                </div>
                                <div class="h6 mb-0 font-weight-bold text-gray-800">${room.status}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>`
                } else if (room.status == "Unavailable") {
                    content += `
                    <div class="col-xl-3 col-md-6 mb-4">
                        <div class="card border-left-info shadow h-100 py-2"
                             style="background-color: rgba(52, 152, 219, 0.4)">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-lg font-weight-bold text-info text-uppercase mb-1">
                                            ${room.room_name}
                                        </div>
                                        <div class="h6 mb-0 font-weight-bold text-gray-800">${room.status}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>`
                } else {
                    content+=`
                    <div class="col-xl-3 col-md-6 mb-4">
                        <div class="card border-left-secondary shadow h-100 py-2"
                             style="background-color: #95a5a6">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-lg font-weight-bold text-gray-800 text-uppercase mb-1">
                                            ${room.room_name}
                                        </div>
                                        <div class="h6 mb-0 font-weight-bold text-gray-800">${room.status}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>`
                }
            }
            $('#roomRow').html(content);
        }

    </script>
{{/section}}
